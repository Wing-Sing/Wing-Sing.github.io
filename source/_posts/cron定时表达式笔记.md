---
title: cron定时表达式笔记
date: 2022-02-14 21:02:36
tags: [cron,Linux]
categories: ["Linux"] 

---

cron用于定时任务，本笔记用于记录相关语法

<!--more-->

**需要注意的是不同软件有些定义略有不同，比如“周”，有些是定义0-6，有些是1-7，具体请做好详细测试再上线！**

**字段描述**

<!--more-->

| 序号  | 字段             | 允许值范围                                                             | 允许符号            |
|:---:|:--------------:|:-----------------------------------------------------------------:| --------------- |
| 1   | Seconds 秒      | 0-59                                                              | , - * /         |
| 2   | Minutes 分      | 0-59                                                              | , - * /         |
| 3   | Hours 时        | 0-23                                                              | , - * /         |
| 4   | Day-of-Month 日 | 1-31                                                              | ,- * ? / L W C  |
| 5   | Month 月        | 1-12 或者 JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV,DEC | , - * /         |
| 6   | Day-of-Week 周  | **这里数字不确定** 或者"SUN, MON, TUE, WED, THU, FRI, SAT”                 | , - * ? / L C # |
| 7   | Year(可选) 年     | 1970-2099                                                         | , - * /         |

**具体符号解释**

| 符号  | 解释                                                                                                                                                                                           |
|:---:|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| ,   | 表示列出枚举值。例如：在Minutes域使用5,20，则意味着在第5分钟和第20分种触发一次。                                                                                                                                              |
| -   | 表示范围。例如在Minutes域使用5-20，表示从5分到20分钟每分钟触发一次。                                                                                                                                                    |
| /   | 表示起始时间开始触发，然后每隔固定时间触发一次。例如在Minutes域使用5/20,则意味着第5分钟开始触发，然后每隔20分钟再次触发，如25,45分钟会触发。                                                                                                             |
| L   | 只能出现在**Day of Week(周)和Day of Month(日) 中**，表示最后。week中使用：表示每周最后一天（周六），月中使用表示：每月最后一天。                                                                                                           |
| ?   | 只能出现在**Day of Week(周)和Day of Month(日) 中**，匹配区域的任意值，**但是他们会相互影响**，比如。例如想在每月的20日触发调度，不管20日到底是星期几，则只能使用如下写法： 0 0 0 20 * ?, 其中最后一位只能用？，而不能使用*，如果使用*表示不管星期几都会触发，这样就会有矛盾                           |
| W   | 只能出现在**Day of Month(月)中**，用来触发工作日，系统将在离指定日期的最近的有效工作日触发事件。例如：5W，触发第五个工作日，如果5日是星期六，则将在最近的工作日：星期五，即4日触发。如果5日是星期天，则在6日(周一)触发；如果5日在星期一到星期五中的一天，则就在5日触发。另外一点，W的最近寻找不会跨过月份。**未测试成功这个指令，可能有些系统不支持。** |
| #   | 只能出现在**Day of Week(周)中**，如FRI#3，表示第三个周五                                                                                                                                                      |
| LW  | 这两个字符可以连用，表示在某个月最后一个工作日，即最后一个星期五                                                                                                                                                             |
| C   | 未找到相关解释                                                                                                                                                                                      |

**收集了一些例子**
"0 0 10,14,16 * * ?" 每天上午10点，下午2点，4点 

"0 0/30 9-17 * * ?" 朝九晚五工作时间内每半小时

"0 0 12 ? * WED" 表示每个星期三中午12点 

"0 0 12 * * ?" 每天中午12点触发 

"0 15 10 ? * *" 每天上午10:15触发 

"0 15 10 * * ?" 每天上午10:15触发 

"0 15 10 * * ? *" 每天上午10:15触发 

"0 15 10 * * ? 2005" 2005年的每天上午10:15触发 

"0 * 14 * * ?" 在每天下午2点到下午2:59期间的每1分钟触发 

"0 0/5 14 * * ?" 在每天下午2点到下午2:55期间的每5分钟触发 

"0 0/5 14,18 * * ?" 在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发 

"0 0-5 14 * * ?" 在每天下午2点到下午2:05期间的每1分钟触发 

"0 10,44 14 ? 3 WED" 每年三月的星期三的下午2:10和2:44触发 

"0 15 10 ? * MON-FRI" 周一至周五的上午10:15触发 

"0 15 10 15 * ?" 每月15日上午10:15触发 

"0 15 10 L * ?" 每月最后一日的上午10:15触发 

"0 15 10 ? * 6L" 每月的最后一个星期五上午10:15触发

"0 15 10 ? * 6L 2002-2005" 2002年至2005年的每月的最后一个星期五上午10:15触发 

"0 15 10 ? * 6#3" 每月的第三个星期五上午10:15触发
